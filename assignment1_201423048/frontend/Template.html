<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .d {
            background-color: burlywood;
        }
        .f {
            background-color: coral;
        }

        #upper {
            background-color: burlywood;
        }
    </style>
</head>

<body>

    <a href="http://localhost:3000/mkdirFormat">폴더생성버튼</a>
    <a href="http://localhost:3000/writefileFormat">파일생성버튼</a>

    <table id='t'>
        <tr>
            <td>Name</td>
            <td></td>
            <td></td>
            <td></td>
            <td>file size</td>
            <td>Modification date</td>
        </tr>
        <tr>
            <td onclick="changeDir(this);" id="upper">../</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        &
    </table>

    <h2>?</h2>
    <!--read한 파일 제목-->
    <p>$</p>
    <!--read한 파일 내용-->

    <p>이름수정</p>
    <form name="rename" method='POST'>
        <label>파일이름</label>
        <input type="text" name="newName">
        <input type="hidden" name="originName">
        <input type="submit" value="rename">
    </form>

    <script type="text/javascript">

        function changeDir(link) {
            console.log("call chageDir");
            const form = document.createElement('form');
            form.method = 'post';
            form.action = "http://localhost:3000/cd";
            const hiddenField = document.createElement('input');
            hiddenField.type = 'hidden';
            hiddenField.name = 'path_name';
            hiddenField.value = link.textContent;
            form.appendChild(hiddenField);
            document.body.appendChild(form);
            form.submit();

        }

        function readFile(link) {
            const form = document.createElement('form');
            form.method = 'post';
            form.action = "http://localhost:3000/readfile";
            const hiddenField = document.createElement('input');
            hiddenField.type = 'hidden';
            hiddenField.name = "file_name";
            hiddenField.value = link.textContent;
            form.appendChild(hiddenField);
            document.body.appendChild(form);
            form.submit();
        }

        function updateFile(link) {
            const form = document.createElement('form');
            form.method = 'post';
            form.action = "http://localhost:3000/editfile"

            const hiddenField = document.createElement('input');
            hiddenField.type = 'hidden';
            hiddenField.name = "file_name";
            hiddenField.value = link.parentNode.childNodes[0].textContent;
            form.appendChild(hiddenField);
            document.body.appendChild(form);
            form.submit();
        }

        function removeFile(link) {


        }
        function removeDir(link) {

        }
        function rename(link) {

        }

        
    </script>

</body>

</html>